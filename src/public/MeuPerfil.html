<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - EduMentor</title>
    <link rel="stylesheet" href="./css/MeuPerfil.css">
    <link rel="shortcut icon" href="./Favicon/favicon.EM.jpg" type="image/x-icon">
    <style>
        /* Garante que o modal de avaliação só possa ser fechado via botão de enviar */
        #closeAvaliacaoModal {
            display: none !important; /* Esconde o 'X' (close) por padrão */
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <h1 class="logo"><a href="/">EduMentor</a></h1>
        <ul class="menu">
            <li><a href="/">Início</a></li>
            <li><a href="#" onclick="logout()">Sair</a></li>
        </ul>
    </nav>

    <main class="container">

        <section class="perfil-card">
            <h2>Meu Perfil</h2>

            <div class="foto-perfil" id="fotoPerfilContainer">
                <img id="fotoPerfil" src="" alt="Foto do Usuário">
                <input type="file" id="fileInput" accept="image/*" style="display: none;">
            </div>

            <div class="usuario-info-principal">
                <h3 id="nomeUsuario" class="nome-usuario"></h3>
                <p id="tipoUsuario" class="tipo-usuario"></p>
            </div>

            <div class="info-card">
                <h3 class="info-card-title">Dados</h3>
                <p><strong>Nome completo:</strong> <span id="nomePerfil"></span></p>
                <p><strong>Email:</strong> <span id="emailPerfil"></span></p>
                <p><strong id="labelInfoEspecifica">Série Escolar:</strong> <span id="infoEspecifica"></span></p>
                <p><strong id="labelAreaInteresse">Áreas de Interesse:</strong> <span id="areaInteresse"></span></p>
            </div>

            <div class="explorar-mentores-container">
                <a id="acaoPerfilBtn" href="#" class="btn">Carregando...</a>
            </div>

            <div class="agendamentos">
                <h3>Próximos Agendamentos</h3>
                <ul id="lista-agendamentos">
                    <li class="sessao-vazia">Nenhum agendamento futuro.</li>
                </ul>
            </div>

            <div class="historico">
                <h3>Histórico de Sessões</h3>
                <ul id="lista-historico"></ul>
            </div>
        </section>
    </main>

    <div class="modal" id="avaliacaoModal">
        <div class="modal-content">
            <span class="close" id="closeAvaliacaoModal">&times;</span>
            <h3>Avalie sua sessão</h3>
            <div>
                <label>Estrelas:</label>
                <select id="avaliacaoEstrelas">
                    <option value="1">1 ⭐</option>
                    <option value="2">2 ⭐⭐</option>
                    <option value="3">3 ⭐⭐⭐</option>
                    <option value="4">4 ⭐⭐⭐⭐</option>
                    <option value="5">5 ⭐⭐⭐⭐⭐</option>
                </select>
            </div>
            <div>
                <label>Comentário:</label>
                <textarea id="avaliacaoComentario" rows="3" placeholder="Deixe um comentário"></textarea>
            </div>
            <button id="submitAvaliacao" class="btn-verde">Enviar Avaliação</button>
        </div>
    </div>

    <script src="./js/agendamento.js"></script>
    <script src="./js/MeuPerfil.js"></script>
    <script src="/js/logout.js"></script>
</body>
</html>